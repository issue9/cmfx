/*
 * SPDX-FileCopyrightText: 2025 caixw
 *
 * SPDX-License-Identifier: MIT
 */

@reference '../style.css';

@layer components {

    nav.menu,
    menu.menu {
        @apply bg-palette-bg text-palette-fg;
        @apply flex;

        li {
            @apply flex flex-col relative p-1;

            >p {
                @apply py-1 px-2 cursor-pointer rounded-md;
                @apply flex flex-row items-center gap-1;

                .icon {
                    @apply aspect-square w-4;
                }

                .suffix {
                    @apply ml-auto;
                }
            }

            >ul {
                @apply hidden;
                @apply bg-palette-bg text-palette-fg;
                @apply rounded-md;
            }
        }

        li.group p {
            @apply text-palette-fg-low cursor-default;
        }

        li.item.disabled>p {
            @apply bg-surface-bg-low text-surface-fg-low;
            @apply cursor-not-allowed;
        }

        li.item:not(.disabled):hover {
            >p {
                @apply hover:bg-palette-bg-high hover:text-palette-fg-high;
            }

            >p:active {
                @apply hover:bg-palette-bg-low hover:text-palette-fg-low;
            }
        }
    }

    nav.horizontal,
    menu.horizontal {
        @apply flex-row gap-2;

        >li.divider {
            @apply !px-0;
        }

        * li.divider {
            @apply !py-0;
        }

        >li>ul {
            @apply w-full;
        }

        li {
            >ul {
                @apply min-w-max absolute;
                @apply shadow-md shadow-surface-bg-low;
            }
        }

        >li>p>.icon.none {
            @apply hidden;
        }

        * li:hover {
            >ul {
                @apply flex flex-col;
                @apply left-full top-0;
            }
        }

        >li:hover {
            >ul {
                @apply flex flex-col;
                @apply left-0 top-full;
            }
        }
    }

    nav.vertical,
    menu.vertical {
        @apply flex-col;

        li {
            >ul {
                @apply min-w-max absolute;
                @apply shadow-md shadow-surface-bg-low;
            }
        }

        li.divider {
            @apply !py-0;
        }

        li:hover {
            >ul {
                @apply flex flex-col;
                @apply left-full top-0;
            }
        }
    }

    nav.inline,
    menu.inline {
        @apply flex-col;

        >li>ul li {
            @apply !px-0;
        }

        li {
            >ul {
                @apply flex flex-col;
            }
        }

        >li.divider {
            @apply !py-0;
        }

        * li.divider {
            @apply !px-0;
        }
    }
}
