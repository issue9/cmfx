/*
 * SPDX-FileCopyrightText: 2024-2025 caixw
 *
 * SPDX-License-Identifier: MIT
 */

@reference '../../style.css';

@layer components {
    /********************************* panel *************************************/

    .panel {
        @apply border border-palette-fg-low rounded-lg text-center bg-palette-bg text-palette-fg p-2 box-border flex flex-row gap-1;

        .title {
            @apply flex justify-between items-center mb-2 text-lg border-b border-b-palette-fg-low pb-1;

            button {
                @apply flex justify-center items-center;
                @apply aspect-square p-1 w-8 min-w-6 rounded-sm;
            }
        }

        .wrap {
            @apply w-full;

            table {
                @apply w-full;

                colgroup {
                    .weekend {
                        @apply bg-palette-bg-low;
                    }
                }

                thead>tr>th,
                tbody>tr>td {
                    @apply aspect-square p-1 min-w-6;
                }



                thead>tr>th {
                    @apply cursor-default;
                }

                tbody tr {

                    td>time {
                        @apply px-1 rounded-sm text-center inline-block;
                    }

                    td>span {
                        @apply inline-block text-center w-full;
                    }

                    td {
                        @apply border border-transparent rounded-sm cursor-pointer py-1;
                    }


                    td.today {
                        time {
                            @apply text-palette-bg-low;
                        }
                    }

                    td.selected,
                    td.covered {
                        @apply bg-palette-bg-high text-palette-fg-high;

                        time {
                            @apply text-palette-fg-high;
                        }
                    }

                    td.disabled {
                        @apply text-palette-fg-low;
                    }

                    td.disabled.selected,
                    td.disabled.covered {
                        @apply bg-palette-bg-low text-palette-fg-low;

                        time {
                            @apply text-palette-fg-low;
                        }
                    }
                }
            }
        }
    }

    .panel:enabled {

        table tbody tr {
            td:not(.disabled):hover {
                @apply bg-palette-fg-low cursor-pointer;
            }
        }
    }

    .panel:disabled,
    .panel:disabled * {
        @apply cursor-not-allowed text-palette-fg-low;
    }

    /********************************* range-panel *************************************/

    .range {
        @apply flex rounded-lg overflow-clip;
        @apply border border-palette-fg-low;
        @apply bg-palette-bg text-palette-fg;

        >main {
            @apply flex flex-col;

            .panels {
                @apply flex flex-wrap;

                .panel {
                    @apply !rounded-none !border-none flex-1;
                }
            }

            .value {
                @apply py-1 px-2 border-t border-palette-fg-low;
            }

            .value::before {
                content: "\200B";
            }
        }

        .shortcuts {
            @apply flex flex-col shrink-0 p-2 gap-2 items-stretch;
            @apply border-l border-palette-fg-low;

            >button {
                @apply cursor-pointer px-2 rounded-sm text-left;
                @apply hover:bg-palette-bg-low hover:text-palette-fg-low;
            }
        }
    }
}
