/*
 * SPDX-FileCopyrightText: 2025 caixw
 *
 * SPDX-License-Identifier: MIT
 */

@reference '../../style.css';

input[type=range] {
    @apply appearance-none w-full my-2 bg-palette-bg-low text-palette-fg h-2 rounded-md cursor-pointer;
    @apply border-2 border-palette-bg-high;
}

/* 与 NOTE: ::moz-range-thumb 内容相同，但是无法与之合并，否则不启作用。 */
input[type=range]::-webkit-slider-thumb {
    @apply appearance-none w-4 h-4 bg-palette-bg-low box-border;
    @apply rounded-md border-3 border-palette-fg-high;
}

input[type=range]::-moz-range-thumb {
    @apply appearance-none w-4 h-4 bg-palette-bg-low box-border;
    @apply rounded-md border-3 border-palette-fg-high;
}

@layer components {
    .range {
        --range-marks-item-top: 5px;

        .fit-height {
            @apply !h-5;
        }

        .marks {
            @apply relative flex;

            /* 根据 thumb 计算标记栏的长度和起始位置 */
            left: --spacing(2);
            width: calc(100% - --spacing(5));

            .item {
                @apply absolute;

                >div {
                    /* 让文字居中 */
                    @apply translate-x-[-50%];
                }
            }

            .item::before {
                top: var(--range-marks-item-top);
                content: '';
                @apply absolute block w-1 h-1 rounded-full bg-palette-fg-high;
            }
        }
    }
}
