/*
 * SPDX-FileCopyrightText: 2025 caixw
 *
 * SPDX-License-Identifier: MIT
 */

@reference '../style.css';

@layer components {
    .page {
        @apply flex flex-row gap-1 justify-between;
        @apply @container/page;

        .nav {
            @apply max-w-50 @max-md/page:hidden;
        }

        article.root {
            @apply flex flex-col gap-1!;

            h2 {
                @apply text-3xl flex gap-2 items-center;

                .edit {
                    @apply text-xl text-palette-fg/50;
                    @apply hover:text-palette-fg-focused;
                    @apply active:text-palette-fg-actived;
                }
            }

            h3 {
                @apply text-2xl mt-4;
            }

            h4 {
                @apply text-xl mt-6 mb-3;
            }

            .desc {
                @apply mt-4 mb-2;
            }

            /* 限定在 p 元素之内，以免其它展示组件的元素被涉及。 */
            p ul,
            p ol {
                @apply ps-1 list-inside list-disc;
            }

            .apis {
                @apply mt-2 flex flex-col gap-2;

                .api {
                    @apply flex flex-col gap-1;

                    table th {
                        white-space: nowrap;
                    }

                    table th,
                    table td {
                        @apply text-left;
                    }

                    table .chk {
                        @apply w-fit;
                    }
                }

                code { /* 文档中的类型名称等 codespan 类型的简要代码 */
                    @apply px-1 font-mono;
                }
            }

            .stages {
                .stage {
                    @apply flex mb-4 rounded-lg bg-palette-bg-low overflow-clip;
                    @apply border border-palette-border;

                    .demo {
                        @apply flex flex-col justify-between p-2 flex-1 h-fit max-w-fit;

                        >.toolbar {
                            @apply w-full pb-2 border border-transparent border-b-palette-border mb-8;
                            @apply flex gap-2 justify-start flex-wrap;

                            >.left {
                                @apply flex gap-2 justify-start;
                            }

                            >.right {
                                @apply flex gap-2 justify-start;

                                >div { /* 这是由 Portal 额外添加的，需要将其内容进行过滤 */
                                    @apply contents;
                                }
                            }
                        }

                        .component {
                            @apply bg-palette-bg text-palette-fg p-2 border border-palette-border;
                        }
                    }

                    .code {
                        @apply border-transparent rounded-none! flex-1 w-full;
                    }
                }

                .stage.vertical {
                    @apply flex-col items-stretch! justify-stretch!;

                    .demo {
                        @apply w-full max-w-full;
                    }
                }
            }

            .simple-code {
                /* 背景需要透明，否则显示在表格中，在 hover 会很难看 */
                @apply border-none! px-0! bg-transparent!;
            }
        }
    }
}
